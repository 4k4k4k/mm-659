<style>body {background: white}</style><?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Untitled</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="CoolUtils HTML exporter" />
<style type="text/css">
<!--
body { color: #000000; background-color: #FFFFFF; }
.python1-classname { color: #000080; font-weight: bold; }
.python1-comment { color: #808080; font-style: italic; }
.python1-commentedcode { color: #C0C0C0; font-style: italic; }
.python1-documentation { color: #CC00FF; }
.python1-float { color: #008080; }
.python1-functionname { color: #008080; font-weight: bold; }
.python1-hexadecimal { color: #008080; }
.python1-identifier { color: #000000; }
.python1-matchingbrace { color: #0000FF; font-weight: bold; }
.python1-multi-linestring { color: #808000; }
.python1-nonreservedkeyword { color: #000080; }
.python1-number { color: #008080; }
.python1-octal { color: #008080; }
.python1-reservedword { font-weight: bold; }
.python1-space { color: #C0C0C0; }
.python1-string { color: #808000; }
.python1-symbol { color: #800000; }
.python1-syntaxerror { color: #FF0000; }
.python1-systemfunctionsandvariables { font-weight: bold; }
.python1-unbalancedbrace { color: #FFFF00; }
-->
</style>
</head>
<body>
<!--StartFragment--><pre><code><span class="python1-comment"># run_all.py
# Reads sample_pipe_cooling_data.csv and plots temperature vs distance

</span><span class="python1-reservedword">import</span><span class="python1-space"> </span><span class="python1-identifier">pandas</span><span class="python1-space"> </span><span class="python1-reservedword">as</span><span class="python1-space"> </span><span class="python1-identifier">pd
</span><span class="python1-reservedword">import</span><span class="python1-space"> </span><span class="python1-identifier">matplotlib</span><span class="python1-symbol">.</span><span class="python1-identifier">pyplot</span><span class="python1-space"> </span><span class="python1-reservedword">as</span><span class="python1-space"> </span><span class="python1-identifier">plt
</span><span class="python1-reservedword">import</span><span class="python1-space"> </span><span class="python1-identifier">re

</span><span class="python1-comment"># --- Load CSV ---
</span><span class="python1-identifier">csvfile</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-string">&quot;sample_pipe_cooling_data.csv&quot;
</span><span class="python1-identifier">df</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">pd</span><span class="python1-symbol">.</span><span class="python1-identifier">read_csv</span><span class="python1-symbol">(</span><span class="python1-identifier">csvfile</span><span class="python1-symbol">)

</span><span class="python1-comment"># Extract x positions from columns like T_x_0.2_m_C
</span><span class="python1-identifier">xcols</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-symbol">[</span><span class="python1-identifier">c</span><span class="python1-space"> </span><span class="python1-reservedword">for</span><span class="python1-space"> </span><span class="python1-identifier">c</span><span class="python1-space"> </span><span class="python1-reservedword">in</span><span class="python1-space"> </span><span class="python1-identifier">df</span><span class="python1-symbol">.</span><span class="python1-identifier">columns</span><span class="python1-space"> </span><span class="python1-reservedword">if</span><span class="python1-space"> </span><span class="python1-identifier">c</span><span class="python1-symbol">.</span><span class="python1-identifier">startswith</span><span class="python1-symbol">(</span><span class="python1-string">&quot;T_x_&quot;</span><span class="python1-symbol">)]
</span><span class="python1-identifier">xvals</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-symbol">[</span><span class="python1-nonreservedkeyword">float</span><span class="python1-symbol">(</span><span class="python1-identifier">re</span><span class="python1-symbol">.</span><span class="python1-identifier">findall</span><span class="python1-symbol">(</span><span class="python1-string">r&quot;T_x_([\d.]+)_m_C&quot;</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">c</span><span class="python1-symbol">)[</span><span class="python1-number">0</span><span class="python1-symbol">])</span><span class="python1-space"> </span><span class="python1-reservedword">for</span><span class="python1-space"> </span><span class="python1-identifier">c</span><span class="python1-space"> </span><span class="python1-reservedword">in</span><span class="python1-space"> </span><span class="python1-identifier">xcols</span><span class="python1-symbol">]

</span><span class="python1-comment"># Plot temperature profiles
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">figure</span><span class="python1-symbol">(</span><span class="python1-identifier">figsize</span><span class="python1-symbol">=(</span><span class="python1-number">8</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-number">5</span><span class="python1-symbol">))
</span><span class="python1-reservedword">for</span><span class="python1-space"> </span><span class="python1-nonreservedkeyword">_</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">row</span><span class="python1-space"> </span><span class="python1-reservedword">in</span><span class="python1-space"> </span><span class="python1-identifier">df</span><span class="python1-symbol">.</span><span class="python1-identifier">iterrows</span><span class="python1-symbol">():
</span><span class="python1-space">    </span><span class="python1-identifier">temps</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-symbol">[</span><span class="python1-identifier">row</span><span class="python1-symbol">[</span><span class="python1-identifier">c</span><span class="python1-symbol">]</span><span class="python1-space"> </span><span class="python1-reservedword">for</span><span class="python1-space"> </span><span class="python1-identifier">c</span><span class="python1-space"> </span><span class="python1-reservedword">in</span><span class="python1-space"> </span><span class="python1-identifier">xcols</span><span class="python1-symbol">]
</span><span class="python1-space">    </span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">plot</span><span class="python1-symbol">(</span><span class="python1-identifier">xvals</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">temps</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-string">'-o'</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">label</span><span class="python1-symbol">=</span><span class="python1-identifier">f</span><span class="python1-string">&quot;{row['RunID']} (Re={int(row['Re'])})&quot;</span><span class="python1-symbol">)

</span><span class="python1-comment"># Wall temperature line
</span><span class="python1-identifier">Tw_mean</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">df</span><span class="python1-symbol">[</span><span class="python1-string">&quot;Tw_C&quot;</span><span class="python1-symbol">].</span><span class="python1-identifier">mean</span><span class="python1-symbol">()
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">axhline</span><span class="python1-symbol">(</span><span class="python1-identifier">y</span><span class="python1-symbol">=</span><span class="python1-identifier">Tw_mean</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">color</span><span class="python1-symbol">=</span><span class="python1-string">'k'</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">linestyle</span><span class="python1-symbol">=</span><span class="python1-string">'--'</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">label</span><span class="python1-symbol">=</span><span class="python1-identifier">f</span><span class="python1-string">&quot;Wall T = {Tw_mean:.1f} В°C&quot;</span><span class="python1-symbol">)

</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">xlabel</span><span class="python1-symbol">(</span><span class="python1-string">&quot;Axial position x (m)&quot;</span><span class="python1-symbol">)
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">ylabel</span><span class="python1-symbol">(</span><span class="python1-string">&quot;Fluid temperature (В°C)&quot;</span><span class="python1-symbol">)
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">title</span><span class="python1-symbol">(</span><span class="python1-string">&quot;Temperature profile along pipe (sample runs)&quot;</span><span class="python1-symbol">)
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">legend</span><span class="python1-symbol">(</span><span class="python1-identifier">loc</span><span class="python1-symbol">=</span><span class="python1-string">&quot;best&quot;</span><span class="python1-symbol">)
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">grid</span><span class="python1-symbol">(</span><span class="python1-nonreservedkeyword">True</span><span class="python1-symbol">)

</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">savefig</span><span class="python1-symbol">(</span><span class="python1-string">&quot;temp_profiles.png&quot;</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">dpi</span><span class="python1-symbol">=</span><span class="python1-number">300</span><span class="python1-symbol">)
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">savefig</span><span class="python1-symbol">(</span><span class="python1-string">&quot;temp_profiles.pdf&quot;</span><span class="python1-symbol">)
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">show</span><span class="python1-symbol">()

</span><span class="python1-reservedword">print</span><span class="python1-symbol">(</span><span class="python1-string">&quot;вњ… Saved temp_profiles.png and temp_profiles.pdf&quot;</span><span class="python1-symbol">)

</span></code></pre><!--EndFragment--></body>
</html>