<style>body {background: white}</style><?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Untitled</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="CoolUtils HTML exporter" />
<style type="text/css">
<!--
body { color: #000000; background-color: #FFFFFF; }
.python1-classname { color: #000080; font-weight: bold; }
.python1-comment { color: #808080; font-style: italic; }
.python1-commentedcode { color: #C0C0C0; font-style: italic; }
.python1-documentation { color: #CC00FF; }
.python1-float { color: #008080; }
.python1-functionname { color: #008080; font-weight: bold; }
.python1-hexadecimal { color: #008080; }
.python1-identifier { color: #000000; }
.python1-matchingbrace { color: #0000FF; font-weight: bold; }
.python1-multi-linestring { color: #808000; }
.python1-nonreservedkeyword { color: #000080; }
.python1-number { color: #008080; }
.python1-octal { color: #008080; }
.python1-reservedword { font-weight: bold; }
.python1-space { color: #C0C0C0; }
.python1-string { color: #808000; }
.python1-symbol { color: #800000; }
.python1-syntaxerror { color: #FF0000; }
.python1-systemfunctionsandvariables { font-weight: bold; }
.python1-unbalancedbrace { color: #FFFF00; }
-->
</style>
</head>
<body>
<!--StartFragment--><pre><code><span class="python1-reservedword">import</span><span class="python1-space"> </span><span class="python1-identifier">os
</span><span class="python1-reservedword">import</span><span class="python1-space"> </span><span class="python1-identifier">pandas</span><span class="python1-space"> </span><span class="python1-reservedword">as</span><span class="python1-space"> </span><span class="python1-identifier">pd
</span><span class="python1-reservedword">import</span><span class="python1-space"> </span><span class="python1-identifier">numpy</span><span class="python1-space"> </span><span class="python1-reservedword">as</span><span class="python1-space"> </span><span class="python1-identifier">np
</span><span class="python1-reservedword">import</span><span class="python1-space"> </span><span class="python1-identifier">matplotlib</span><span class="python1-symbol">.</span><span class="python1-identifier">pyplot</span><span class="python1-space"> </span><span class="python1-reservedword">as</span><span class="python1-space"> </span><span class="python1-identifier">plt

</span><span class="python1-comment"># --- Ensure working in same folder as script ---
</span><span class="python1-identifier">os</span><span class="python1-symbol">.</span><span class="python1-identifier">chdir</span><span class="python1-symbol">(</span><span class="python1-identifier">os</span><span class="python1-symbol">.</span><span class="python1-identifier">path</span><span class="python1-symbol">.</span><span class="python1-identifier">dirname</span><span class="python1-symbol">(</span><span class="python1-identifier">os</span><span class="python1-symbol">.</span><span class="python1-identifier">path</span><span class="python1-symbol">.</span><span class="python1-identifier">abspath</span><span class="python1-symbol">(</span><span class="python1-systemfunctionsandvariables">__file__</span><span class="python1-symbol">)))

</span><span class="python1-comment"># --- Constants ---
</span><span class="python1-identifier">rho</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-number">997</span><span class="python1-space">         </span><span class="python1-comment"># kg/m^3
</span><span class="python1-identifier">cp</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-number">4182</span><span class="python1-space">         </span><span class="python1-comment"># J/kgK
</span><span class="python1-identifier">k</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-float">0.6</span><span class="python1-space">           </span><span class="python1-comment"># W/mK
</span><span class="python1-identifier">D</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-float">0.012</span><span class="python1-space">         </span><span class="python1-comment"># m
</span><span class="python1-identifier">L</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-float">2.0</span><span class="python1-space">           </span><span class="python1-comment"># m
</span><span class="python1-identifier">As</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">np</span><span class="python1-symbol">.</span><span class="python1-identifier">pi</span><span class="python1-space"> </span><span class="python1-symbol">*</span><span class="python1-space"> </span><span class="python1-identifier">D</span><span class="python1-space"> </span><span class="python1-symbol">*</span><span class="python1-space"> </span><span class="python1-identifier">L

</span><span class="python1-comment"># --- Load the CSV generated by C++ ---
</span><span class="python1-identifier">T</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">pd</span><span class="python1-symbol">.</span><span class="python1-identifier">read_csv</span><span class="python1-symbol">(</span><span class="python1-string">'sample_pipe_cooling_data.csv'</span><span class="python1-symbol">)

</span><span class="python1-comment"># --- Computations ---
</span><span class="python1-identifier">results</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-symbol">[]
</span><span class="python1-reservedword">for</span><span class="python1-space"> </span><span class="python1-nonreservedkeyword">_</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">row</span><span class="python1-space"> </span><span class="python1-reservedword">in</span><span class="python1-space"> </span><span class="python1-identifier">T</span><span class="python1-symbol">.</span><span class="python1-identifier">iterrows</span><span class="python1-symbol">():
</span><span class="python1-space">    </span><span class="python1-identifier">mdot</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">row</span><span class="python1-symbol">[</span><span class="python1-string">'mdot_kg_s'</span><span class="python1-symbol">]
</span><span class="python1-space">    </span><span class="python1-identifier">Tin</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">row</span><span class="python1-symbol">[</span><span class="python1-string">'Tin_C'</span><span class="python1-symbol">]
</span><span class="python1-space">    </span><span class="python1-identifier">Tout</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">row</span><span class="python1-symbol">[</span><span class="python1-string">'Tout_C'</span><span class="python1-symbol">]
</span><span class="python1-space">    </span><span class="python1-identifier">Tw</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">row</span><span class="python1-symbol">[</span><span class="python1-string">'Tw_C'</span><span class="python1-symbol">]
</span><span class="python1-space">    </span><span class="python1-identifier">Qdot</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">mdot</span><span class="python1-space"> </span><span class="python1-symbol">*</span><span class="python1-space"> </span><span class="python1-identifier">cp</span><span class="python1-space"> </span><span class="python1-symbol">*</span><span class="python1-space"> </span><span class="python1-symbol">(</span><span class="python1-identifier">Tin</span><span class="python1-space"> </span><span class="python1-symbol">-</span><span class="python1-space"> </span><span class="python1-identifier">Tout</span><span class="python1-symbol">)
</span><span class="python1-space">    </span><span class="python1-identifier">dT1</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">dT2</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">Tin</span><span class="python1-space"> </span><span class="python1-symbol">-</span><span class="python1-space"> </span><span class="python1-identifier">Tw</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">Tout</span><span class="python1-space"> </span><span class="python1-symbol">-</span><span class="python1-space"> </span><span class="python1-identifier">Tw

</span><span class="python1-space">    </span><span class="python1-reservedword">if</span><span class="python1-space"> </span><span class="python1-nonreservedkeyword">abs</span><span class="python1-symbol">(</span><span class="python1-identifier">dT1</span><span class="python1-space"> </span><span class="python1-symbol">-</span><span class="python1-space"> </span><span class="python1-identifier">dT2</span><span class="python1-symbol">)</span><span class="python1-space"> </span><span class="python1-symbol">&lt;</span><span class="python1-space"> </span><span class="python1-float">1e-6</span><span class="python1-symbol">:
</span><span class="python1-space">        </span><span class="python1-identifier">LMTD</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">dT1
</span><span class="python1-space">    </span><span class="python1-reservedword">else</span><span class="python1-symbol">:
</span><span class="python1-space">        </span><span class="python1-identifier">LMTD</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-symbol">(</span><span class="python1-identifier">dT1</span><span class="python1-space"> </span><span class="python1-symbol">-</span><span class="python1-space"> </span><span class="python1-identifier">dT2</span><span class="python1-symbol">)</span><span class="python1-space"> </span><span class="python1-symbol">/</span><span class="python1-space"> </span><span class="python1-identifier">np</span><span class="python1-symbol">.</span><span class="python1-identifier">log</span><span class="python1-symbol">(</span><span class="python1-identifier">dT1</span><span class="python1-space"> </span><span class="python1-symbol">/</span><span class="python1-space"> </span><span class="python1-identifier">dT2</span><span class="python1-symbol">)

</span><span class="python1-space">    </span><span class="python1-identifier">h</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">Qdot</span><span class="python1-space"> </span><span class="python1-symbol">/</span><span class="python1-space"> </span><span class="python1-symbol">(</span><span class="python1-identifier">As</span><span class="python1-space"> </span><span class="python1-symbol">*</span><span class="python1-space"> </span><span class="python1-identifier">LMTD</span><span class="python1-symbol">)
</span><span class="python1-space">    </span><span class="python1-identifier">Nu</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">h</span><span class="python1-space"> </span><span class="python1-symbol">*</span><span class="python1-space"> </span><span class="python1-identifier">D</span><span class="python1-space"> </span><span class="python1-symbol">/</span><span class="python1-space"> </span><span class="python1-identifier">k

</span><span class="python1-space">    </span><span class="python1-identifier">results</span><span class="python1-symbol">.</span><span class="python1-identifier">append</span><span class="python1-symbol">({
</span><span class="python1-space">        </span><span class="python1-string">'RunID'</span><span class="python1-symbol">:</span><span class="python1-space"> </span><span class="python1-identifier">row</span><span class="python1-symbol">[</span><span class="python1-string">'RunID'</span><span class="python1-symbol">],
</span><span class="python1-space">        </span><span class="python1-string">'Re'</span><span class="python1-symbol">:</span><span class="python1-space"> </span><span class="python1-identifier">row</span><span class="python1-symbol">[</span><span class="python1-string">'Re'</span><span class="python1-symbol">],
</span><span class="python1-space">        </span><span class="python1-string">'h_W_m2K'</span><span class="python1-symbol">:</span><span class="python1-space"> </span><span class="python1-identifier">h</span><span class="python1-symbol">,
</span><span class="python1-space">        </span><span class="python1-string">'Nu'</span><span class="python1-symbol">:</span><span class="python1-space"> </span><span class="python1-identifier">Nu</span><span class="python1-symbol">,
</span><span class="python1-space">        </span><span class="python1-string">'Qdot_W'</span><span class="python1-symbol">:</span><span class="python1-space"> </span><span class="python1-identifier">Qdot
</span><span class="python1-space">    </span><span class="python1-symbol">})

</span><span class="python1-comment"># --- Save computed table ---
</span><span class="python1-identifier">R</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">pd</span><span class="python1-symbol">.</span><span class="python1-identifier">DataFrame</span><span class="python1-symbol">(</span><span class="python1-identifier">results</span><span class="python1-symbol">)
</span><span class="python1-identifier">R</span><span class="python1-symbol">.</span><span class="python1-identifier">to_csv</span><span class="python1-symbol">(</span><span class="python1-string">'computed_h_Nu.csv'</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">index</span><span class="python1-symbol">=</span><span class="python1-nonreservedkeyword">False</span><span class="python1-symbol">)
</span><span class="python1-reservedword">print</span><span class="python1-symbol">(</span><span class="python1-string">&quot;вњ… Saved computed_h_Nu.csv&quot;</span><span class="python1-symbol">)

</span><span class="python1-comment"># --- Plot Nu vs Re ---
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">figure</span><span class="python1-symbol">(</span><span class="python1-identifier">figsize</span><span class="python1-symbol">=(</span><span class="python1-number">6</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-number">5</span><span class="python1-symbol">))
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">loglog</span><span class="python1-symbol">(</span><span class="python1-identifier">R</span><span class="python1-symbol">[</span><span class="python1-string">'Re'</span><span class="python1-symbol">],</span><span class="python1-space"> </span><span class="python1-identifier">R</span><span class="python1-symbol">[</span><span class="python1-string">'Nu'</span><span class="python1-symbol">],</span><span class="python1-space"> </span><span class="python1-string">'o-'</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">label</span><span class="python1-symbol">=</span><span class="python1-string">'Measured (sample)'</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">linewidth</span><span class="python1-symbol">=</span><span class="python1-float">1.8</span><span class="python1-symbol">)

</span><span class="python1-identifier">Re_vals</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">np</span><span class="python1-symbol">.</span><span class="python1-identifier">logspace</span><span class="python1-symbol">(</span><span class="python1-identifier">np</span><span class="python1-symbol">.</span><span class="python1-identifier">log10</span><span class="python1-symbol">(</span><span class="python1-identifier">R</span><span class="python1-symbol">[</span><span class="python1-string">'Re'</span><span class="python1-symbol">].</span><span class="python1-identifier">min</span><span class="python1-symbol">())</span><span class="python1-space"> </span><span class="python1-symbol">-</span><span class="python1-space"> </span><span class="python1-float">0.2</span><span class="python1-symbol">,
</span><span class="python1-space">                      </span><span class="python1-identifier">np</span><span class="python1-symbol">.</span><span class="python1-identifier">log10</span><span class="python1-symbol">(</span><span class="python1-identifier">R</span><span class="python1-symbol">[</span><span class="python1-string">'Re'</span><span class="python1-symbol">].</span><span class="python1-identifier">max</span><span class="python1-symbol">())</span><span class="python1-space"> </span><span class="python1-symbol">+</span><span class="python1-space"> </span><span class="python1-float">0.2</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-number">100</span><span class="python1-symbol">)
</span><span class="python1-identifier">Pr</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-number">4
</span><span class="python1-identifier">Nu_DB</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-float">0.023</span><span class="python1-space"> </span><span class="python1-symbol">*</span><span class="python1-space"> </span><span class="python1-symbol">(</span><span class="python1-identifier">Re_vals</span><span class="python1-space"> </span><span class="python1-symbol">**</span><span class="python1-space"> </span><span class="python1-float">0.8</span><span class="python1-symbol">)</span><span class="python1-space"> </span><span class="python1-symbol">*</span><span class="python1-space"> </span><span class="python1-symbol">(</span><span class="python1-identifier">Pr</span><span class="python1-space"> </span><span class="python1-symbol">**</span><span class="python1-space"> </span><span class="python1-float">0.4</span><span class="python1-symbol">)
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">loglog</span><span class="python1-symbol">(</span><span class="python1-identifier">Re_vals</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">Nu_DB</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-string">'--'</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">label</span><span class="python1-symbol">=</span><span class="python1-string">'Dittus-Boelter (theory)'</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">linewidth</span><span class="python1-symbol">=</span><span class="python1-float">1.5</span><span class="python1-symbol">)

</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">xlabel</span><span class="python1-symbol">(</span><span class="python1-string">'Reynolds number, Re'</span><span class="python1-symbol">)
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">ylabel</span><span class="python1-symbol">(</span><span class="python1-string">'Nusselt number, Nu'</span><span class="python1-symbol">)
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">title</span><span class="python1-symbol">(</span><span class="python1-string">'Nu vs Re (sample data)'</span><span class="python1-symbol">)
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">legend</span><span class="python1-symbol">()
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">grid</span><span class="python1-symbol">(</span><span class="python1-nonreservedkeyword">True</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">which</span><span class="python1-symbol">=</span><span class="python1-string">&quot;both&quot;</span><span class="python1-symbol">)
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">tight_layout</span><span class="python1-symbol">()
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">savefig</span><span class="python1-symbol">(</span><span class="python1-string">'Nu_vs_Re.png'</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">dpi</span><span class="python1-symbol">=</span><span class="python1-number">300</span><span class="python1-symbol">)
</span><span class="python1-reservedword">print</span><span class="python1-symbol">(</span><span class="python1-string">&quot;вњ… Saved Nu_vs_Re.png&quot;</span><span class="python1-symbol">)

</span><span class="python1-comment"># --- Open files automatically ---
</span><span class="python1-identifier">csv_path</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">os</span><span class="python1-symbol">.</span><span class="python1-identifier">path</span><span class="python1-symbol">.</span><span class="python1-identifier">abspath</span><span class="python1-symbol">(</span><span class="python1-string">'computed_h_Nu.csv'</span><span class="python1-symbol">)
</span><span class="python1-identifier">png_path</span><span class="python1-space"> </span><span class="python1-symbol">=</span><span class="python1-space"> </span><span class="python1-identifier">os</span><span class="python1-symbol">.</span><span class="python1-identifier">path</span><span class="python1-symbol">.</span><span class="python1-identifier">abspath</span><span class="python1-symbol">(</span><span class="python1-string">'Nu_vs_Re.png'</span><span class="python1-symbol">)

</span><span class="python1-comment"># Open the CSV file in Excel (default app)
</span><span class="python1-identifier">os</span><span class="python1-symbol">.</span><span class="python1-identifier">startfile</span><span class="python1-symbol">(</span><span class="python1-identifier">csv_path</span><span class="python1-symbol">)

</span><span class="python1-comment"># Show the plot
</span><span class="python1-identifier">plt</span><span class="python1-symbol">.</span><span class="python1-identifier">show</span><span class="python1-symbol">()

</span><span class="python1-reservedword">print</span><span class="python1-symbol">(</span><span class="python1-string">&quot;рџ“‚ Files saved at:&quot;</span><span class="python1-symbol">)
</span><span class="python1-reservedword">print</span><span class="python1-symbol">(</span><span class="python1-string">&quot;  CSV:&quot;</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">csv_path</span><span class="python1-symbol">)
</span><span class="python1-reservedword">print</span><span class="python1-symbol">(</span><span class="python1-string">&quot;  PNG:&quot;</span><span class="python1-symbol">,</span><span class="python1-space"> </span><span class="python1-identifier">png_path</span><span class="python1-symbol">)

</span></code></pre><!--EndFragment--></body>
</html>